:root{
  --fg-drawtb-btn: 34px;
}

.drawtb{
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 8px;
  border-radius: 10px;
  background: rgba(28,32,44,0.85);
}

.drawtb--vertical{
  align-items: center;
}

.drawtb--left{
  position: sticky;
  top: 56px;
  align-self: flex-start;
}

.drawtb--right{
  position: sticky;
  top: 56px;
  align-self: flex-end;
}

.drawtb__btn{
  width: var(--fg-drawtb-btn);
  height: var(--fg-drawtb-btn);
  border-radius: 8px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: #e6ebf3;
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.08);
  cursor: pointer;
  transition: background .15s, border-color .15s;
}

.drawtb__btn:hover{
  background: rgba(255,255,255,0.12);
}

.drawtb__btn.is-active{
  background: rgba(74,108,255,0.25);
  border-color: rgba(74,108,255,0.5);
  color: #fff;
}

.drawtb__divider{
  width: 100%;
  height: 1px;
  background: rgba(255,255,255,0.1);
}

/* === Expanded light theme === */
.drawtb.drawtb--light{
  background: rgba(248, 250, 255, 0.58);
  border-radius: 18px;
  padding: 10px;
  box-shadow: 0 10px 20px rgba(28, 32, 48, 0.1);
  border: 1px solid rgba(206, 214, 230, 0.55);
  backdrop-filter: blur(10px);
  gap: 10px;
}

.drawtb--light .drawtb__btn{
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.85);
  border: 1px solid rgba(190, 202, 226, 0.6);
  color: #6f7a94;
  box-shadow: 0 5px 10px rgba(48, 56, 84, 0.1);
  transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
}

.drawtb--light .drawtb__btn:hover{
  background: rgba(255, 255, 255, 0.95);
  border-color: rgba(150, 165, 205, 0.6);
  transform: translateY(-1px);
  box-shadow: 0 10px 18px rgba(48, 56, 84, 0.16);
}

.drawtb--light .drawtb__btn.is-active{
  background: linear-gradient(160deg, rgba(224, 232, 255, 0.88) 0%, rgba(210, 222, 252, 0.82) 100%);
  border-color: rgba(122, 142, 212, 0.6);
  color: #3f4b77;
  box-shadow: 0 12px 22px rgba(60, 72, 110, 0.16);
}

.drawtb--light .drawtb__divider{
  background: rgba(200, 210, 230, 0.5);
  height: 1px;
  border-radius: 999px;
}

/* === STEP 1: remove sticky for rails only in expanded === */
.chart-stage.with-docks .drawtb--left,
.chart-stage.with-docks .drawtb--right{
  position: static !important;   /* без отрыва сверху */
  top: auto !important;
}
